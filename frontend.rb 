require "unirest"
# print "enter email: "
# email = gets.chomp
# print "enter password: "
# password = gets.chomp
email = "joe@email.com"
password = "password"

# Login and set jwt as part of Unirest requests
response = Unirest.post(
  "http://localhost:3000/user_token",
  parameters: {
    auth: {
      email: email,
      password: password
    }
  }
)
jwt = response.body["jwt"]
Unirest.default_header("Authorization", "Bearer #{jwt}")

system "clear"
puts "Your jwt is #{jwt}"
puts "Welcome to Recipes app! choose an option:"
puts "[1] See your Recipes"







input_option = gets.chomp
if input_option == "1"
  response = Unirest.get("http://localhost:3000/v1/recipes")
  recipe = response.body 
  puts JSON.pretty_generate(recipe)

end 